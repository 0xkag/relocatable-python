[buildout]
extends = buildout-build-osx.cfg
parts = zlib ncurses readline openssl openssh libgpg-error libgcrypt libtasn1 gmp nettle libgnutls libiconv bzip2 gettext sqlite3 db libxml2 libxslt libffi gdbm cyrus-sasl libevent libev zeromq openldap graphviz python

[environment]
CC = gcc -fPIC

[environment-libgcrypt]
<= environment
CFLAGS = ${environment:CFLAGS} -std=gnu89 -fheinous-gnu-extensions

[libgcrypt]
configure-options = ${options:configure-options} --with-gpg-error-prefix=${:prefix} --disable-asm
url = ftp://python.infinidat.com/archives/libgcrypt-1.5.3.tar.bz2
environment-section = environment-libgcrypt

[cyrus-sasl]
pre-configure-hook = ${buildout:directory}/src/hooks/osx.py:patch_cyrus_sasl

[db]
url = ftp://python.infinidat.com/archives/db-5.3.21.tar.gz
patches = ${:patches-dir}/db-5.3.21-osx-atomic.patch

[libgnutls]
url = ftp://python.infinidat.com/archives/gnutls-${:version}.tar.bz2
version = 3.2.12.1
pre-configure-hook = ${buildout:directory}/src/hooks/osx.py:autoreconf

[libtasn1]
<= options
recipe = hexagonit.recipe.cmmi
configure-options = --prefix=${options:prefix} --disable-rpath --disable-dependency-tracking
url = ftp://python.infinidat.com/archives/libtasn1-${:version}.tar.gz
version = 3.4

[nettle]
<= options
recipe = hexagonit.recipe.cmmi
configure-options = --prefix=${options:prefix} --disable-rpath --disable-dependency-tracking
url = ftp://python.infinidat.com/archives/nettle-${:version}.tar.gz
version = 2.7.1

[gmp]
<= options
recipe = hexagonit.recipe.cmmi
configure-options = --prefix=${options:prefix} --disable-rpath --disable-dependency-tracking
url = ftp://python.infinidat.com/archives/gmp-${:version}.tar.bz2
version = 5.1.3
